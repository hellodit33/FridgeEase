{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Checkbox } from \"react-native-web/dist/index\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { addFoodToFridge, removeFoodFromFridge } from \"../../store/redux/actions/fridge.actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport Colors from \"../../constants/Colors\";\nimport { setStatusBarHidden } from \"expo-status-bar\";\nimport { ScreenStackHeaderSearchBarView } from \"react-native-screens\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction FoodComponents(_ref) {\n  var foodIdToAdd = _ref.foodIdToAdd,\n      type = _ref.type;\n  var navigation = useNavigation();\n  var dispatch = useDispatch();\n  var userData = useSelector(function (state) {\n    return state.userReducer;\n  });\n  var foodsLists = useSelector(function (state) {\n    return state.intoFridgeReducer;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAdded = _useState2[0],\n      setIsAdded = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      addedItems = _useState4[0],\n      setAddedItems = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedItems = _useState6[0],\n      setSelectedItems = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      toDelete = _useState8[0],\n      setToDelete = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      titles = _useState10[0],\n      setTitles = _useState10[1];\n\n  var handlePress = function () {\n    var _ref2 = _asyncToGenerator(function* (food) {\n      if (selectedItems.includes(food._id)) {\n        console.log(selectedItems);\n        console.log(food.title);\n        yield dispatch(removeFoodFromFridge(userData._id, food._id));\n        setToDelete(true);\n      } else if (!selectedItems.includes(food._id) || toDelete) {\n        setSelectedItems([].concat(_toConsumableArray(selectedItems), [food._id]));\n        console.log(selectedItems);\n        console.log(food.title);\n        yield dispatch(addFoodToFridge(userData._id, food._id));\n      }\n    });\n\n    return function handlePress(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  function FoodDetails() {\n    navigation.navigate(\"FoodDetails\");\n  }\n\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      contentContainerStyle: styles.foodList,\n      numColumns: 3,\n      data: foodsLists,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(Pressable, {\n          onLongPress: FoodDetails,\n          onPress: function onPress() {\n            return handlePress(item);\n          },\n          children: [_jsxs(View, {\n            style: styles.food,\n            children: [_jsx(View, {\n              style: styles.imageContainer,\n              children: _jsx(Image, {\n                style: styles.image,\n                source: {\n                  uri: \"https://raw.githubusercontent.com/hellodit33/FridgeEase/main/assets/logos/\" + item.logo\n                }\n              })\n            }), _jsx(View, {\n              style: styles.textContainer,\n              children: _jsx(Text, {\n                style: styles.item,\n                children: item.title\n              })\n            })]\n          }), selectedItems.includes(item._id) && _jsx(View, {\n            style: styles.overlay\n          })]\n        });\n      }\n    })\n  });\n}\n\nexport default FoodComponents;\nvar styles = StyleSheet.create({\n  foodList: {\n    backgroundColor: Colors.blue,\n    alignItems: \"center\",\n    paddingVertical: 10\n  },\n  food: {\n    height: 90,\n    width: 100,\n    marginHorizontal: 2,\n    marginVertical: 2,\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"white\",\n    borderRadius: 30,\n    borderColor: Colors.green,\n    borderWidth: 2\n  },\n  overlay: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    borderRadius: 30,\n    borderColor: Colors.green,\n    borderWidth: 4\n  },\n  textContainer: {\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\"\n  },\n  item: {\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    color: Colors.green\n  },\n  imageContainer: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  image: {\n    width: 50,\n    height: 50,\n    resizeMode: \"contain\"\n  },\n  readyView: {\n    backgroundColor: Colors.blue,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\"\n  },\n  readyButton: {\n    justifyContent: \"center\",\n    borderRadius: 40,\n    backgroundColor: Colors.green,\n    paddingHorizontal: 10,\n    paddingVertical: 10,\n    width: \"40%\"\n  },\n  readyText: {\n    textAlign: \"center\",\n    color: \"white\",\n    fontSize: 20,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["Checkbox","useNavigation","addFoodToFridge","removeFoodFromFridge","useDispatch","useSelector","useEffect","useState","Colors","setStatusBarHidden","ScreenStackHeaderSearchBarView","FoodComponents","foodIdToAdd","type","navigation","dispatch","userData","state","userReducer","foodsLists","intoFridgeReducer","isAdded","setIsAdded","addedItems","setAddedItems","selectedItems","setSelectedItems","toDelete","setToDelete","titles","setTitles","handlePress","food","includes","_id","console","log","title","FoodDetails","navigate","styles","foodList","item","imageContainer","image","uri","logo","textContainer","overlay","StyleSheet","create","backgroundColor","blue","alignItems","paddingVertical","height","width","marginHorizontal","marginVertical","justifyContent","borderRadius","borderColor","green","borderWidth","position","fontWeight","textAlign","color","resizeMode","readyView","alignContent","readyButton","paddingHorizontal","readyText","fontSize"],"sources":["/Users/elodiepradet/Documents/react native/Fridgeease/src/components/FoodComponents.js"],"sourcesContent":["import {\n  StyleSheet,\n  ScrollView,\n  Button,\n  Image,\n  Checkbox,\n  View,\n  Text,\n  Pressable,\n  FlatList,\n  TouchableOpacity,\n} from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport {\n  addFoodToFridge,\n  removeFoodFromFridge,\n} from \"../../store/redux/actions/fridge.actions\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport Colors from \"../../constants/Colors\";\nimport { setStatusBarHidden } from \"expo-status-bar\";\nimport { ScreenStackHeaderSearchBarView } from \"react-native-screens\";\n\nfunction FoodComponents({ foodIdToAdd, type }) {\n  const navigation = useNavigation();\n  /*const fridge = async () => {\n    const response = await fridgeApi.get(\"/api/fridge\");\n    console.log(response.data[0].title);\n  };\n\n  fridge();*/\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.userReducer);\n\n  const foodsLists = useSelector((state) => state.intoFridgeReducer);\n  const [isAdded, setIsAdded] = useState(false);\n  const [addedItems, setAddedItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [toDelete, setToDelete] = useState(false);\n\n  const [titles, setTitles] = useState(\"\");\n\n  const handlePress = async (food) => {\n    if (selectedItems.includes(food._id)) {\n      // setToDelete([...toDelete, food._id]);\n      //  selectedItems.filter((foodId) => foodId !== foodId);\n      // console.log(toDelete);\n      console.log(selectedItems);\n      console.log(food.title);\n      await dispatch(removeFoodFromFridge(userData._id, food._id));\n      setToDelete(true);\n    } else if (!selectedItems.includes(food._id) || toDelete) {\n      setSelectedItems([...selectedItems, food._id]);\n      console.log(selectedItems);\n      console.log(food.title);\n      await dispatch(addFoodToFridge(userData._id, food._id));\n    }\n  };\n\n  /*\n  const handlePress = () => {\n    dispatch(addFoodToFridge(userData._id, foodIdToAdd));\n    setIsAdded(true);\n\n    console.log(isAdded);\n  };*/\n\n  function FoodDetails() {\n    navigation.navigate(\"FoodDetails\");\n  }\n\n  return (\n    <View>\n      <FlatList\n        contentContainerStyle={styles.foodList}\n        numColumns={3}\n        data={foodsLists}\n        keyExtractor={(item) => item._id}\n        renderItem={({ item }) => (\n          <Pressable\n            onLongPress={FoodDetails}\n            onPress={() => handlePress(item)}\n          >\n            <View style={styles.food}>\n              <View style={styles.imageContainer}>\n                <Image\n                  style={styles.image}\n                  source={{\n                    uri:\n                      \"https://raw.githubusercontent.com/hellodit33/FridgeEase/main/assets/logos/\" +\n                      item.logo,\n                  }}\n                ></Image>\n              </View>\n              <View style={styles.textContainer}>\n                <Text style={styles.item}>{item.title}</Text>\n              </View>\n            </View>\n            {selectedItems.includes(item._id) && (\n              <View style={styles.overlay} />\n            )}\n          </Pressable>\n        )}\n      ></FlatList>\n    </View>\n  );\n}\n\nexport default FoodComponents;\n\nconst styles = StyleSheet.create({\n  foodList: {\n    backgroundColor: Colors.blue,\n    alignItems: \"center\",\n    paddingVertical: 10,\n  },\n  food: {\n    height: 90,\n    width: 100,\n    marginHorizontal: 2,\n    marginVertical: 2,\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    backgroundColor: \"white\",\n    borderRadius: 30,\n    borderColor: Colors.green,\n    borderWidth: 2,\n  },\n  overlay: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    borderRadius: 30,\n\n    borderColor: Colors.green,\n    borderWidth: 4,\n  },\n\n  textContainer: {\n    justifyContent: \"space-evenly\",\n\n    alignItems: \"center\",\n  },\n  item: {\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n\n    color: Colors.green,\n  },\n  imageContainer: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  image: {\n    width: 50,\n    height: 50,\n    resizeMode: \"contain\",\n  },\n  readyView: {\n    backgroundColor: Colors.blue,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n  },\n  readyButton: {\n    justifyContent: \"center\",\n\n    borderRadius: 40,\n    backgroundColor: Colors.green,\n    paddingHorizontal: 10,\n    paddingVertical: 10,\n\n    width: \"40%\",\n  },\n  readyText: {\n    textAlign: \"center\",\n    color: \"white\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}