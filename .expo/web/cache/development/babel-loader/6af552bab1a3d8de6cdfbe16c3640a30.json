{"ast":null,"code":"var _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\n\nvar UserModel = require(\"../models/user.model\");\n\nvar ObjectID = require(\"mongoose\").Types.ObjectId;\n\nmodule.exports.getAllUsers = function () {\n  var _ref = _asyncToGenerator(function* (req, res) {\n    var users = yield UserModel.find().select(\"-password\");\n    res.status(200).json(users);\n  });\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports.userInfo = function (req, res) {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n  UserModel.findById(req.params.id, function (err, data) {\n    if (!err) res.send(data);else console.log(\"ID unknown : \" + err);\n  }).select(\"-password\");\n};\n\nmodule.exports.userFood = function (req, res) {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n  UserModel.findById(req.params.id, function (err, data) {\n    if (!err) res.send(data.usersfood);else console.log(\"ID unknown : \" + err);\n  });\n};\n\nmodule.exports.getFoodToRecipe = function (req, res) {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n  UserModel.findById(req.params.id, function (err, data) {\n    if (!err) res.send(data.foodToRecipe);else console.log(\"ID unknown : \" + err);\n  });\n};\n\nmodule.exports.updateUser = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    UserModel.findOneAndUpdate({\n      _id: req.params.id\n    }, {\n      $set: {\n        bio: req.body.bio\n      }\n    }, {\n      new: true,\n      upsert: true,\n      setDefaultsOnInsert: true\n    }, function (err, data) {\n      if (!err) return res.send(data);\n      if (err) return res.status(500).send({\n        message: err\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err\n    });\n  }\n};\n\nmodule.exports.addFoodToRecipe = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    UserModel.findByIdAndUpdate(req.params.id, {\n      $addToSet: {\n        foodToRecipe: [req.body.foodName]\n      }\n    }, {\n      new: true,\n      upsert: true\n    }, function (err, data) {\n      if (!err) res.status(201).json(data);else return res.status(400).json(err);\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err\n    });\n  }\n};\n\nmodule.exports.addFoodToFridge = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    UserModel.findByIdAndUpdate(req.params.id, {\n      $addToSet: {\n        usersfood: {\n          foodId: req.body.foodId,\n          foodName: req.body.foodName,\n          foodCarbon: req.body.foodCarbon,\n          foodExpiration: req.body.foodExpiration,\n          foodCategory: req.body.foodCategory,\n          foodLogo: req.body.foodLogo,\n          timestamp: new Date().getTime()\n        }\n      }\n    }, {\n      new: true,\n      upsert: true\n    }, function (err, data) {\n      if (!err) res.status(201).json(data);else return res.status(400).json(err);\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err\n    });\n  }\n};\n\nmodule.exports.removeFoodFromFridge = function (req, res) {\n  if (!ObjectID.isValid(req.params.id) || !ObjectID.isValid(req.body.foodIdToRemove)) return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    UserModel.findByIdAndUpdate(req.params.id, {\n      $pull: {\n        usersfood: req.body.foodIdToRemove\n      }\n    }, function (err, data) {\n      if (!err) res.status(201).json(data);else return res.status(400).json(err);\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err\n    });\n  }\n};\n\nmodule.exports.editFoodFromFridge = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    return UserModel.findById(req.params.id, function (err, data) {\n      var theFood = data.usersfood.find(function (food) {\n        return food._id.equals(req.body.foodId);\n      });\n      if (!theFood) return res.status(404).send(\"Food not found\");\n      theFood.foodExpiration = req.body.foodExpiration;\n      theFood.foodQuantity = req.body.foodQuantity;\n      return data.save(function (err) {\n        if (!err) return res.status(200).send(data);\n        return res.status(500).send(err);\n      });\n    });\n  } catch (err) {\n    return res.status(400).send(err);\n  }\n};\n\nmodule.exports.deleteFoodFromFridge = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    return UserModel.findByIdAndUpdate(req.params.id, {\n      $pull: {\n        usersfood: {\n          _id: req.body.foodId\n        }\n      }\n    }, {\n      new: true\n    }, function (err, data) {\n      if (!err) return res.send(data);else return res.status(400).send(err);\n    });\n  } catch (err) {\n    return res.status(400).send(err);\n  }\n};\n\nmodule.exports.addFoodToShoppingList = function (req, res) {\n  if (!ObjectID.isValid(req.params.id)) return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    UserModel.findByIdAndUpdate(req.params.id, {\n      $addToSet: {\n        foodToShoppingList: [req.body.foodName]\n      }\n    }, {\n      new: true,\n      upsert: true\n    }, function (err, data) {\n      if (!err) res.status(201).json(data);else return res.status(400).json(err);\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err\n    });\n  }\n};","map":{"version":3,"names":["UserModel","require","ObjectID","Types","ObjectId","module","exports","getAllUsers","req","res","users","find","select","status","json","userInfo","console","log","params","isValid","id","send","findById","err","data","userFood","usersfood","getFoodToRecipe","foodToRecipe","updateUser","findOneAndUpdate","_id","$set","bio","body","new","upsert","setDefaultsOnInsert","message","addFoodToRecipe","findByIdAndUpdate","$addToSet","foodName","addFoodToFridge","foodId","foodCarbon","foodExpiration","foodCategory","foodLogo","timestamp","Date","getTime","removeFoodFromFridge","foodIdToRemove","$pull","editFoodFromFridge","theFood","food","equals","foodQuantity","save","deleteFoodFromFridge","addFoodToShoppingList","foodToShoppingList"],"sources":["/Users/elodiepradet/Documents/react native/Fridgeease/server/controllers/user.controller.js"],"sourcesContent":["//user controller requiremments\n\nconst UserModel = require(\"../models/user.model\");\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\n/**\n *\n * @desc getAllUsers finds all users\n */\n\nmodule.exports.getAllUsers = async (req, res) => {\n  const users = await UserModel.find().select(\"-password\");\n  res.status(200).json(users);\n};\n\n/**\n *\n * @returns userInfo for the profile\n */\nmodule.exports.userInfo = (req, res) => {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  UserModel.findById(req.params.id, (err, data) => {\n    if (!err) res.send(data);\n    else console.log(\"ID unknown : \" + err);\n  }).select(\"-password\");\n};\n\nmodule.exports.userFood = (req, res) => {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  UserModel.findById(req.params.id, (err, data) => {\n    if (!err) res.send(data.usersfood);\n    else console.log(\"ID unknown : \" + err);\n  });\n};\n\nmodule.exports.getFoodToRecipe = (req, res) => {\n  console.log(req.params);\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  UserModel.findById(req.params.id, (err, data) => {\n    if (!err) res.send(data.foodToRecipe);\n    else console.log(\"ID unknown : \" + err);\n  });\n};\n\n/**\n *\n * @returns new information about user into db, while onboarding or changing info on profile\n */\nmodule.exports.updateUser = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    UserModel.findOneAndUpdate(\n      { _id: req.params.id },\n      {\n        $set: {\n          bio: req.body.bio,\n        },\n      },\n      { new: true, upsert: true, setDefaultsOnInsert: true },\n      (err, data) => {\n        if (!err) return res.send(data);\n        if (err) return res.status(500).send({ message: err });\n      }\n    );\n  } catch (err) {\n    return res.status(500).json({ message: err });\n  }\n};\n\nmodule.exports.addFoodToRecipe = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    //add to the food list\n    UserModel.findByIdAndUpdate(\n      req.params.id,\n      {\n        $addToSet: {\n          foodToRecipe: [req.body.foodName],\n        },\n      },\n      { new: true, upsert: true },\n      (err, data) => {\n        if (!err) res.status(201).json(data);\n        else return res.status(400).json(err);\n      }\n    );\n  } catch (err) {\n    return res.status(500).json({ message: err });\n  }\n};\n\nmodule.exports.addFoodToFridge = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    //add to the food list\n    UserModel.findByIdAndUpdate(\n      req.params.id,\n      {\n        $addToSet: {\n          usersfood: {\n            foodId: req.body.foodId,\n            foodName: req.body.foodName,\n            foodCarbon: req.body.foodCarbon,\n            foodExpiration: req.body.foodExpiration,\n            foodCategory: req.body.foodCategory,\n            foodLogo: req.body.foodLogo,\n            timestamp: new Date().getTime(),\n          },\n        },\n      },\n      { new: true, upsert: true },\n      (err, data) => {\n        if (!err) res.status(201).json(data);\n        else return res.status(400).json(err);\n      }\n    );\n  } catch (err) {\n    return res.status(500).json({ message: err });\n  }\n};\n\nmodule.exports.removeFoodFromFridge = (req, res) => {\n  if (\n    !ObjectID.isValid(req.params.id) ||\n    !ObjectID.isValid(req.body.foodIdToRemove)\n  )\n    return res.status(400).send(\"ID unknown: \" + req.params.id);\n  try {\n    UserModel.findByIdAndUpdate(\n      req.params.id,\n      { $pull: { usersfood: req.body.foodIdToRemove } },\n\n      (err, data) => {\n        if (!err) res.status(201).json(data);\n        else return res.status(400).json(err);\n      }\n    );\n  } catch (err) {\n    return res.status(500).json({ message: err });\n  }\n};\n\nmodule.exports.editFoodFromFridge = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    return UserModel.findById(req.params.id, (err, data) => {\n      const theFood = data.usersfood.find((food) =>\n        food._id.equals(req.body.foodId)\n      );\n\n      if (!theFood) return res.status(404).send(\"Food not found\");\n      theFood.foodExpiration = req.body.foodExpiration;\n\n      theFood.foodQuantity = req.body.foodQuantity;\n\n      return data.save((err) => {\n        if (!err) return res.status(200).send(data);\n        return res.status(500).send(err);\n      });\n    });\n  } catch (err) {\n    return res.status(400).send(err);\n  }\n};\nmodule.exports.deleteFoodFromFridge = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown : \" + req.params.id);\n\n  try {\n    return UserModel.findByIdAndUpdate(\n      req.params.id,\n      {\n        $pull: {\n          usersfood: {\n            _id: req.body.foodId,\n          },\n        },\n      },\n      { new: true },\n      (err, data) => {\n        if (!err) return res.send(data);\n        else return res.status(400).send(err);\n      }\n    );\n  } catch (err) {\n    return res.status(400).send(err);\n  }\n};\n\nmodule.exports.addFoodToShoppingList = (req, res) => {\n  if (!ObjectID.isValid(req.params.id))\n    return res.status(400).send(\"ID unknown: \" + req.params.id);\n\n  try {\n    //add to the food list\n    UserModel.findByIdAndUpdate(\n      req.params.id,\n      {\n        $addToSet: {\n          foodToShoppingList: [req.body.foodName],\n        },\n      },\n      { new: true, upsert: true },\n      (err, data) => {\n        if (!err) res.status(201).json(data);\n        else return res.status(400).json(err);\n      }\n    );\n  } catch (err) {\n    return res.status(500).json({ message: err });\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}