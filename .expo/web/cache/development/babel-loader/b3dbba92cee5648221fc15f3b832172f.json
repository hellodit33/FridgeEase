{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext, useState } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AuthContent from \"../components/Auth/AuthContent\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport LoadingOverlay from \"../UI/LoadingOverlay\";\nimport { useDispatch } from \"react-redux\";\nimport * as authAction from \"../../store/redux/actions/auth.actions\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { AuthContext } from \"../components/AppContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction SignupScreen(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAuthenticating = _useState2[0],\n      setIsAuthenticating = _useState2[1];\n\n  var dispatch = useDispatch();\n  var navigation = useNavigation();\n\n  var _useContext = useContext(AuthContext),\n      register = _useContext.register;\n\n  var signupHandler = function () {\n    var _ref2 = _asyncToGenerator(function* (_ref) {\n      var email = _ref.email,\n          password = _ref.password;\n      register({\n        email: email,\n        password: password\n      });\n    });\n\n    return function signupHandler(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return _jsx(AuthContent, {\n    onAuthenticate: signupHandler\n  });\n}\n\nexport default SignupScreen;","map":{"version":3,"names":["useContext","useState","AuthContent","useNavigation","LoadingOverlay","useDispatch","authAction","AsyncStorage","AuthContext","SignupScreen","props","isAuthenticating","setIsAuthenticating","dispatch","navigation","register","signupHandler","email","password"],"sources":["/Users/elodiepradet/Documents/react native/Fridgeease/src/screens/SignupScreen.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { Alert } from \"react-native\";\nimport AuthContent from \"../components/Auth/AuthContent\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport LoadingOverlay from \"../UI/LoadingOverlay\";\nimport { useDispatch } from \"react-redux\";\nimport * as authAction from \"../../store/redux/actions/auth.actions\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { AuthContext } from \"../components/AppContext\";\n\nfunction SignupScreen(props) {\n  const [isAuthenticating, setIsAuthenticating] = useState(false);\n  const dispatch = useDispatch();\n  const navigation = useNavigation();\n  const { register } = useContext(AuthContext);\n\n  const signupHandler = async ({ email, password }) => {\n    register({ email, password });\n\n    /*\n    setIsAuthenticating(true);\n\n    dispatch(authAction.registerUser({ email, password }))\n      .then(async (result) => {\n        console.log(result);\n        if (result.success) {\n          try {\n            await AsyncStorage.setItem(\"token\", result.token);\n            console.log(result.success);\n          } catch (err) {\n            console.log(err);\n          }\n        } else {\n          Alert.alert(\n            \"Sign up failed.\",\n            \"Could not create user, please check your input or try again later\"\n          );\n          setIsAuthenticating(false);\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  if (isAuthenticating) {\n    return <LoadingOverlay message=\"Vi skapar ditt konto...\" />;\n  }*/\n  };\n  return <AuthContent onAuthenticate={signupHandler} />;\n}\n\nexport default SignupScreen;\n"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;;AAEA,OAAOC,WAAP;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,cAAP;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAO,KAAKC,UAAZ;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,SAASC,WAAT;;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;EAC3B,gBAAgDT,QAAQ,CAAC,KAAD,CAAxD;EAAA;EAAA,IAAOU,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,IAAMC,QAAQ,GAAGR,WAAW,EAA5B;EACA,IAAMS,UAAU,GAAGX,aAAa,EAAhC;;EACA,kBAAqBH,UAAU,CAACQ,WAAD,CAA/B;EAAA,IAAQO,QAAR,eAAQA,QAAR;;EAEA,IAAMC,aAAa;IAAA,8BAAG,iBAA+B;MAAA,IAAtBC,KAAsB,QAAtBA,KAAsB;MAAA,IAAfC,QAAe,QAAfA,QAAe;MACnDH,QAAQ,CAAC;QAAEE,KAAK,EAALA,KAAF;QAASC,QAAQ,EAARA;MAAT,CAAD,CAAR;IA6BD,CA9BkB;;IAAA,gBAAbF,aAAa;MAAA;IAAA;EAAA,GAAnB;;EA+BA,OAAO,KAAC,WAAD;IAAa,cAAc,EAAEA;EAA7B,EAAP;AACD;;AAED,eAAeP,YAAf"},"metadata":{},"sourceType":"module"}